\begin{tad}{\tadNombre{Mapa}}
	\tadGeneros{mapa}
	
	\tadExporta{}
	
	\tadIgualdadObservacional{m}{m'}{mapa}{posiciones(m) \igobs posiciones(m') $\land$ \\ ($\forall$ p : posiciones(m)) (conexionesDirectas(p,m) \igobs conexionesDirectas(p,m'))}
	
	\tadGeneradores
		\tadAlinearFunciones{AgregarPos~}{posicion/p,conj(posicion)/ps,mapa/m}
		
		\tadOperacion{vacio}{}{mapa}{}
		\tadOperacion{AgregarPos}{posicion/p,conj(posicion)/ps,mapa/m}{mapa}{$\neg$(p $\in$ posiciones(m)) $\land$ (ps $\subseteq$ posiciones(m)}			
	\tadObservadores
		\tadAlinearFunciones{conexionesDirectas~}{posicion/p,mapa/m}
		
		\tadOperacion{posiciones}{mapa}{conj(posicion)}{}
		\tadOperacion{conexionesDirectas}{posicion/p,mapa/m}{conj(posicion)}{p $\in$ posiciones(m)}
	\tadOtrasOperaciones
		\tadAlinearFunciones{conexion~}{posicion/p1, posicion/p2, mapa/m}
		
		\tadOperacion{conexion?}{posicion/p1, posicion/p2, mapa/m}{bool}{p1 $\in$ posiciones(m) $\land$ p2 $\in$ posiciones(m)}
	\tadAxiomas[\paratodo{posicion,}{\ p, e, p1, p2} \paratodo{ conj(posicion),}{\ ps} \paratodo{mapa}{\ m}]
		
		
		\tadAxioma{posiciones(vacio)}{$\emptyset$}
		\tadAxioma{posiciones(AgregarPos(p,ps,m))}{Ag(p, posiciones(m))}
				
		\tadAxioma{conexionesDirectas(p, AgregarPos(e, ps, m))}
		{\IF e = p THEN
			ps
		ELSE
			{\IF p $\in$ ps THEN
				Ag(e,conexionesDirectas(p,m))
			ELSE
				conexionesDirectas(p,m)
			FI}
		FI}
		
		\tadAxioma{conexion?(p1, p2, AgregarPos(e, ps, m))}
		{\IF p1 = e THEN
			{\IF vacio?(ps) THEN
				false
			ELSE 
				p2 $\in$ c $\lor$ conexion?(dameUno(ps),p2, m) $\lor$ conexion?(p1, p2, AgregarPos(e, sinUno(ps), m))
			FI}
		ELSE
			{\IF p2 = e THEN
				{\IF vacio?(ps) THEN
					false
				ELSE 
					p1 $\in$ ps $\lor$ conexion?(p1, dameUno(ps), m) $\lor$ conexion?(p1, p2, AgregarPos(e, sinUno(ps), m))
				FI}
			ELSE
				conexion?(p1,p2,m)
			FI}
		FI}
				

\end{tad}